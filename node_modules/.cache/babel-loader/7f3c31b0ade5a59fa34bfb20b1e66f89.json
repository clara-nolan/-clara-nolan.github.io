{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport { noop } from \"../utils/noop\";\n/**\n *\n * @returns {boolean} Is navigator online\n */\n\nfunction getIsOnline() {\n  if (typeof window === \"undefined\") {\n    return null;\n  }\n\n  return navigator.onLine;\n}\n/**\n * useOnline hook\n *\n * Returns true if navigator is online, false if not.\n *\n * @returns {boolean} The value of navigator.onLine\n */\n\n\nfunction useOnline() {\n  var _a = useState(function () {\n    return getIsOnline();\n  }),\n      isOnline = _a[0],\n      setIsOnline = _a[1];\n\n  function setOffline() {\n    setIsOnline(false);\n  }\n\n  function setOnline() {\n    setIsOnline(true);\n  } // we only needs this to be set on mount\n  // hence []\n\n\n  useEffect(function () {\n    // eslint-disable-next-line no-negated-condition\n    if (typeof window !== \"undefined\") {\n      window.addEventListener(\"online\", setOnline);\n      window.addEventListener(\"offline\", setOffline);\n      return function () {\n        window.removeEventListener(\"online\", setOnline);\n        window.removeEventListener(\"offline\", setOffline);\n      };\n    } else {\n      console.warn(\"useOnline: window is undefined.\");\n      return noop;\n    }\n  }, []);\n  return isOnline;\n}\n\nexport { useOnline };","map":null,"metadata":{},"sourceType":"module"}