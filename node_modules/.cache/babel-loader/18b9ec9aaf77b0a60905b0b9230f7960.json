{"ast":null,"code":"import NodeLoader from './NodeLoader.js';\nimport NodeMaterialLoader from './NodeMaterialLoader.js';\nimport { ObjectLoader } from 'three';\n\nclass NodeObjectLoader extends ObjectLoader {\n  constructor(manager) {\n    super(manager);\n    this._nodesJSON = null;\n  }\n\n  parse(json, onLoad) {\n    this._nodesJSON = json.nodes;\n    const data = super.parse(json, onLoad);\n    this._nodesJSON = null; // dispose\n\n    return data;\n  }\n\n  parseNodes(json, textures) {\n    if (json !== undefined) {\n      const loader = new NodeLoader();\n      loader.setTextures(textures);\n      return loader.parseNodes(json);\n    }\n\n    return {};\n  }\n\n  parseMaterials(json, textures) {\n    const materials = {};\n\n    if (json !== undefined) {\n      const nodes = this.parseNodes(this._nodesJSON, textures);\n      const loader = new NodeMaterialLoader();\n      loader.setTextures(textures);\n      loader.setNodes(nodes);\n\n      for (let i = 0, l = json.length; i < l; i++) {\n        const data = json[i];\n        materials[data.uuid] = loader.parse(data);\n      }\n    }\n\n    return materials;\n  }\n\n}\n\nexport default NodeObjectLoader;","map":null,"metadata":{},"sourceType":"module"}