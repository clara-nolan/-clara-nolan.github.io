{"ast":null,"code":"import { StereoCamera, Vector2 } from 'three';\n\nconst StereoEffect = function (renderer) {\n  const _stereo = new StereoCamera();\n\n  _stereo.aspect = 0.5;\n  const size = new Vector2();\n\n  this.setEyeSeparation = eyeSep => {\n    _stereo.eyeSep = eyeSep;\n  };\n\n  this.setSize = (width, height) => {\n    renderer.setSize(width, height);\n  };\n\n  this.render = (scene, camera) => {\n    scene.updateMatrixWorld();\n    if (camera.parent === null) camera.updateMatrixWorld();\n\n    _stereo.update(camera);\n\n    renderer.getSize(size);\n    if (renderer.autoClear) renderer.clear();\n    renderer.setScissorTest(true);\n    renderer.setScissor(0, 0, size.width / 2, size.height);\n    renderer.setViewport(0, 0, size.width / 2, size.height);\n    renderer.render(scene, _stereo.cameraL);\n    renderer.setScissor(size.width / 2, 0, size.width / 2, size.height);\n    renderer.setViewport(size.width / 2, 0, size.width / 2, size.height);\n    renderer.render(scene, _stereo.cameraR);\n    renderer.setScissorTest(false);\n  };\n};\n\nexport { StereoEffect };","map":null,"metadata":{},"sourceType":"module"}