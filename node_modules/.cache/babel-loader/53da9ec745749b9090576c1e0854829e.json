{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useSpring, a } from '@react-spring/three';\nimport { useGesture } from '@use-gesture/react';\n\nfunction PresentationControls(_ref) {\n  let {\n    snap,\n    global,\n    cursor = true,\n    children,\n    speed = 1,\n    rotation = [0, 0, 0],\n    zoom = 1,\n    polar = [0, Math.PI / 2],\n    azimuth = [-Infinity, Infinity],\n    config = {\n      mass: 1,\n      tension: 170,\n      friction: 26\n    }\n  } = _ref;\n  const {\n    size,\n    gl\n  } = useThree();\n  const rPolar = React.useMemo(() => [rotation[0] + polar[0], rotation[0] + polar[1]], [rotation[0], polar[0], polar[1]]);\n  const rAzimuth = React.useMemo(() => [rotation[1] + azimuth[0], rotation[1] + azimuth[1]], [rotation[1], azimuth[0], azimuth[1]]);\n  const rInitial = React.useMemo(() => [MathUtils.clamp(rotation[0], ...rPolar), MathUtils.clamp(rotation[1], ...rAzimuth), rotation[2]], [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n  const [spring, api] = useSpring(() => ({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }));\n  React.useEffect(() => void api.start({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }), [rInitial]);\n  React.useEffect(() => {\n    if (global && cursor) gl.domElement.style.cursor = 'grab';\n  }, [global, cursor, gl.domElement]);\n  const bind = useGesture({\n    onHover: _ref2 => {\n      let {\n        last\n      } = _ref2;\n      if (cursor && !global) gl.domElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: _ref3 => {\n      let {\n        down,\n        delta: [x, y],\n        memo: [oldY, oldX] = spring.rotation.animation.to || rInitial\n      } = _ref3;\n      if (cursor) gl.domElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp(oldX + x / size.width * Math.PI * speed, ...rAzimuth);\n      y = MathUtils.clamp(oldY + y / size.height * Math.PI * speed, ...rPolar);\n      const sConfig = snap && !down && typeof snap !== 'boolean' ? snap : config;\n      api.start({\n        scale: down && y > rPolar[1] / 2 ? zoom : 1,\n        rotation: snap && !down ? rInitial : [y, x, 0],\n        config: n => n === 'scale' ? { ...sConfig,\n          friction: sConfig.friction * 3\n        } : sConfig\n      });\n      return [y, x];\n    }\n  }, {\n    target: global ? gl.domElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(a.group, _extends({}, bind == null ? void 0 : bind(), spring), children);\n}\n\nexport { PresentationControls };","map":null,"metadata":{},"sourceType":"module"}