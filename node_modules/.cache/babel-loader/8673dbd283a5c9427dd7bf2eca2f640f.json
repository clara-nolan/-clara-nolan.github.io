{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport Object3DNode from './Object3DNode.js';\n\nclass CameraNode extends Object3DNode {\n  constructor() {\n    let scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : CameraNode.POSITION;\n    super(scope);\n  }\n\n  getNodeType(builder) {\n    const scope = this.scope;\n\n    if (scope === CameraNode.PROJECTION_MATRIX) {\n      return 'mat4';\n    }\n\n    return super.getNodeType(builder);\n  }\n\n  update(frame) {\n    const camera = frame.camera;\n    const uniformNode = this._uniformNode;\n    const scope = this.scope;\n\n    if (scope === CameraNode.PROJECTION_MATRIX) {\n      uniformNode.value = camera.projectionMatrix;\n    } else if (scope === CameraNode.VIEW_MATRIX) {\n      uniformNode.value = camera.matrixWorldInverse;\n    } else {\n      this.object3d = camera;\n      super.update(frame);\n    }\n  }\n\n  generate(builder) {\n    const scope = this.scope;\n\n    if (scope === CameraNode.PROJECTION_MATRIX) {\n      this._uniformNode.nodeType = 'mat4';\n    }\n\n    return super.generate(builder);\n  }\n\n}\n\n_defineProperty(CameraNode, \"PROJECTION_MATRIX\", 'projectionMatrix');\n\nexport default CameraNode;","map":null,"metadata":{},"sourceType":"module"}