{"ast":null,"code":"import { noop } from \"../utils/noop\";\nimport { useEffect, useCallback, useState } from \"react\";\nvar config = {\n  root: null,\n  rootMargin: \"0px 0px 0px 0px\",\n  threshold: [0, 1]\n};\n/**\n *\n * useIntersectionObserverRef hook\n *\n * Returns a mutation observer for a React Ref and fires a callback\n *\n * @param {IntersectionObserverCallback} callback Function that needs to be fired on mutation\n * @param {IntersectionObserverInit} options\n */\n\nfunction useIntersectionObserverRef(callback, options) {\n  if (options === void 0) {\n    options = config;\n  }\n\n  var _a = options.root,\n      root = _a === void 0 ? null : _a,\n      rootMargin = options.rootMargin,\n      threshold = options.threshold;\n\n  var _b = useState(null),\n      node = _b[0],\n      setNode = _b[1];\n\n  useEffect(function () {\n    // Create an observer instance linked to the callback function\n    if (node && callback) {\n      var observer_1 = new IntersectionObserver(callback, options); // Start observing the target node for configured mutations\n\n      observer_1.observe(node);\n      return function () {\n        observer_1.disconnect();\n      };\n    }\n\n    return noop;\n  }, [node, callback, root, rootMargin, threshold]);\n  var ref = useCallback(function (node) {\n    setNode(node);\n  }, []);\n  return [ref];\n}\n\nexport { useIntersectionObserverRef };","map":null,"metadata":{},"sourceType":"module"}