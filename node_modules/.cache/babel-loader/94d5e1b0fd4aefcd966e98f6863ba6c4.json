{"ast":null,"code":"import { NodeUpdateType } from './constants.js';\n\nclass NodeFrame {\n  constructor() {\n    this.time = 0;\n    this.deltaTime = 0;\n    this.frameId = 0;\n    this.startTime = null;\n    this.updateMap = new WeakMap();\n    this.renderer = null;\n    this.material = null;\n    this.camera = null;\n    this.object = null;\n  }\n\n  updateNode(node) {\n    if (node.updateType === NodeUpdateType.Frame) {\n      if (this.updateMap.get(node) !== this.frameId) {\n        this.updateMap.set(node, this.frameId);\n        node.update(this);\n      }\n    } else if (node.updateType === NodeUpdateType.Object) {\n      node.update(this);\n    }\n  }\n\n  update() {\n    this.frameId++;\n    if (this.lastTime === undefined) this.lastTime = performance.now();\n    this.deltaTime = (performance.now() - this.lastTime) / 1000;\n    this.lastTime = performance.now();\n    this.time += this.deltaTime;\n  }\n\n}\n\nexport default NodeFrame;","map":null,"metadata":{},"sourceType":"module"}